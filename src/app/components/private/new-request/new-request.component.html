<div *ngIf="dataLoaded | async">
    <div class="pad_top_right">
        <ul class="staff_list">
            <li *ngFor="let staffMember of bookings" style="width: 16% !important">
            <a href="javascript:void(0)" (click)="selectRequest($event, staffMember.id)" style="height: 220px !important">
                <span style="height: 110px; width: 110px;"><img src="{{ staffMember.image ? staffMember.image : 'assets/images/doctorlogo.png' }}"/></span>
                <em style="font-size: 20px;">Dr. {{ staffMember.first_name | titlecase  }} {{ staffMember.last_name | titlecase }}</em>
            </a>
            </li>
        </ul>
    </div>
    <!-- <div class="">    
      <div class="table-responsive payment_table">
        <table class="table table-bordered">
            <thead>
              <tr>
                <th>Sr. no.</th>
                <th>Name</th>
                <th>Phone</th>
                <th>Appointment Date</th>
                <th>Pickup Address</th>
                <th>Vehical Type</th>
                <th>Status</th>
                <th>Action</th>
              </tr>
            </thead>
            
            <tbody *ngIf="bookings.length > 0">
              <tr *ngFor="let booking of bookings; let i = index">
                <td>{{ i+1 }}</td>
                <td>
                    {{ booking.patient_details.first_name | titlecase }} 
                    {{ booking.patient_details.last_name | titlecase }}
                </td>
                <td>
                    {{ booking.patient_details.mobile_number }}
                </td>
                <td>
                    {{ booking.appointment_date | date:'mediumDate'}}
                    {{ booking.appointment_date | date:'shortTime'}}
                </td>
                <td>
                    {{ booking.pickup_address | titlecase }}
                </td>
                <td>
                    {{ booking.car.car_name | titlecase }}
                </td>
                <td>
                    {{ booking.status | titlecase }}
                </td>
                <td>
                    <button *ngIf="booking.status==='pending'" type="button" class="btn btn-primary" (click)="showDoctors($event, booking)">Select Doctor</button>
                </td>
              </tr>
            </tbody>
            <tbody *ngIf="bookings.length === 0">
              <tr>
                <td colspan="7">No Data Found</td>
              </tr>
            </tbody>
        </table>
      </div>
    </div> -->

    <div class="modal fade bd-example-modal-lg blue_popup" id="doctorsList" tabindex="-1" role="dialog" aria-labelledby="doctorsListTitle" aria-hidden="true" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog modal-lg" role="document" style="max-width: 1300px !important; max-height: 80%;
        overflow: hidden;">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Request List</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color: black;">
                <span aria-hidden="true">&times;</span>
            </button>
            </div>
            <div class="modal-body">
            <div class="table-responsive payment_table" style="height: 65vh;">
                <table class="table table-striped"> <!-- table-bordered -->
                <thead>
                    <tr>
                        <!-- <th>Sr. no.</th>
                        <th>Doctor Name</th>
                        <th>Action</th> -->
                        <th>Sr. no.</th>
                        <th>Name</th>
                        <th>Phone</th>
                        <th>Appointment Date</th>
                        <th>Pickup Address</th>
                        <th>Vehical Type</th>
                        <th>Status</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody *ngIf="request.length > 0">
                    <!-- <tr *ngFor="let doctor of doctorsList; let i = index">
                        <td>{{ i+1 }}</td>
                        <td>{{ doctor.first_name | titlecase }} {{ doctor.last_name | titlecase }}</td>
                        <td><button type="button" (click)="bookRide($event, doctor.id)" class="btn btn-primary btn-sm">Book Ride</button></td>
                    </tr> -->
                    <tr *ngFor="let booking of request; let i = index">
                        <td>{{ i+1 }}</td>
                        <td>
                            {{ booking.patient_details.first_name | titlecase }} 
                            {{ booking.patient_details.last_name | titlecase }}
                        </td>
                        <td>
                            {{ booking.patient_details.mobile_number }}
                        </td>
                        <td>
                            {{ booking.appointment_date | date:'mediumDate'}}
                            {{ booking.appointment_date | date:'shortTime'}}
                        </td>
                        <td>
                            {{ booking.pickup_address | titlecase }}
                        </td>
                        <td>
                            {{ booking.car!=null?booking.car.car_name:"" | titlecase }}
                        </td>
                        <td>
                            {{ booking.status | titlecase }}
                        </td>
                        <td>
                            <button *ngIf="booking.status==='pending'" type="button" class="btn btn-primary" (click)="bookRide($event, booking)">Book Ride</button>
                        </td>
                      </tr>
                </tbody>
                <tbody *ngIf="request.length===0">
                    <tr>
                        <td colspan="8">
                            Data Not Found
                        </td>
                    </tr>
                </tbody>
                </table>
            </div>
            </div>
        </div>
        </div>
    </div>

</div>