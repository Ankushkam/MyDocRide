<div>
  <ngx-spinner
    bdColor="rgba(51,51,51,0.8)"
    size="large"
    color="teal"
    type="ball-clip-rotate-multiple"
>
</ngx-spinner>

<div *ngIf="dataLoaded | async">
    <div class="shadow_box">
      <div class="row"> 
        <div class="col-lg-12">
          <div class="p-3">
            <div class="table-responsive payment_table" style="height: 65vh;">
                <table class="table table-striped"> <!-- table-bordered -->
                <thead>
                    <tr>
                        <!-- <th>Sr. no.</th>
                        <th>Doctor Name</th>
                        <th>Action</th> -->
                        <th>Sr. no.</th>
                        <th>Name</th>
                        <th>Phone</th>
                        <th>Appointment Date</th>
                        <th>Pickup Address</th>
                        <th>Vehical Type</th>
                        <th>Status</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody *ngIf="flag">
                    <!-- <tr *ngFor="let doctor of doctorsList; let i = index">
                        <td>{{ i+1 }}</td>
                        <td>{{ doctor.first_name | titlecase }} {{ doctor.last_name | titlecase }}</td>
                        <td><button type="button" (click)="bookRide($event, doctor.id)" class="btn btn-primary btn-sm">Book Ride</button></td>
                    </tr> -->
                    <tr *ngFor="let item of pendingList; let i = index">
                        <td>{{ i+1 }}</td>
                        <td>
                            {{ item.patient_details.first_name  }} 
                            {{ item.patient_details.last_name  }}
                        </td>
                        <td>
                            {{ item.patient_details.mobile_number }}
                        </td>
                        <td>
                            {{ item.appointment_date | date:'mediumDate'}}
                            {{ item.appointment_date | date:'shortTime'}}
                        </td>
                        <td>
                            {{ item.pickup_address | titlecase }}
                        </td>
                        <td>
                            {{ item.car!=null?item.car.car_name :"" | titlecase }}
                        </td>
                        <td>
                            {{ item.status | titlecase }}
                        </td>
                        <td>
                   
                          <div *ngIf="item.status==='pending'">
                            <table class="table-not-striped borderless" >
                              <tbody>
                              <tr>
                                <th>
                                  <button  type="button" class="btn btn-primary" style="margin: 2px;" (click)="accept(item)">Accept</button>
                                </th>
                                <th>
                                  <button  type="button" class="btn btn-danger" style="margin: 2px;" (click)="reject(item)">Reject</button>
                              </th></tr>
                            </tbody>
                            </table>
                            
                            
                          </div>
                            
                        </td>
                      </tr>
                </tbody>
                <tbody *ngIf="!flag">
                    <tr>
                        <td colspan="8">
                            Data Not Found
                        </td>
                    </tr>
                </tbody>
                </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  <!-- <ul class="staff_list member_list">
    <li *ngFor="let member of membersList">
      <a href="javascript:void(0)"> 
        <em>{{ member.user.first_name | titlecase }} {{ member.user.last_name | titlecase }}</em>
        <p>
          <small>Address</small>
          {{ member.user.street }},<br/>{{ member.user.city }}, {{ member.user.state }} {{ member.user.zipcode }}
        </p>
      </a>
    </li>
  </ul> -->
  
  <!-- <div class="modal fade bd-example-modal-lg blue_popup" id="doctorsList" tabindex="-1" role="dialog" aria-labelledby="doctorsListTitle" aria-hidden="true" data-backdrop="static" data-keyboard="false"> -->
    <!-- <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Doctors List</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color: black;">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="table-responsive payment_table">
            <table class="table table-bordered">
              <thead>
                  <th>Sr. no.</th>
                  <th>Doctor Name</th>
                  <th>Action</th>
              </thead>
              <tbody *ngIf="doctorsList.length > 0">
                  <tr *ngFor="let doctor of doctorsList; let i = index">
                      <td>{{ i+1 }}</td>
                      <td>{{ doctor.first_name | titlecase }} {{ doctor.last_name | titlecase }}</td>
                      <td><button type="button" (click)="bookRide($event, doctor.id)" class="btn btn-primary btn-sm">Book Ride</button></td>
                  </tr>
              </tbody>
              <tbody *ngIf="doctorsList.length===0">
                  <tr>
                      <td colspan="4">
                          Data Not Found
                      </td>
                  </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div> -->
  <!-- </div> -->
  
  
  </div>
</div>